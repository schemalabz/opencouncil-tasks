/**
 * Prompt templates and system prompts for the summarize task.
 * Extracted from summarize.ts for better organization and maintainability.
 */

import { IMPORTANCE_GUIDELINES } from "../../lib/importanceGuidelines.js";

/**
 * Markdown reference format instructions (used in multiple prompts)
 */
export const MARKDOWN_REFERENCE_FORMAT_INSTRUCTIONS = `
**ΜΟΡΦΗ ΚΕΙΜΕΝΟΥ - MARKDOWN ΜΕ REFERENCES**

Το κείμενο πρέπει να είναι σε Markdown που υποστηρίζει:

**Μορφοποίηση:**
- **Bold text** με **αστερίσκους**
- *Italic text* με *έναν αστερίσκο*
- <u>Underline text</u> με HTML tag
- Ordered lists: 1. 2. 3.
- Unordered lists: - item

**Reference Links (ΠΟΛΥ ΣΗΜΑΝΤΙΚΟ):**
Χρησιμοποίησε ειδικά markdown links με το πρωτόκολλο REF:

Τύποι references:
- [κείμενο που αναφέρεται](REF:UTTERANCE:utteranceId) - σύνδεσμος σε συγκεκριμένο utterance
- [όνομα συμβούλου](REF:PERSON:personId) - σύνδεσμος σε άτομο
- [όνομα παράταξης](REF:PARTY:partyId) - σύνδεσμος σε παράταξη

**Πότε να βάζεις REF:UTTERANCE:**
✓ Άμεσα αποσπάσματα ή παραφράσεις
✓ Συγκεκριμένα επιχειρήματα
✓ Αριθμητικά στοιχεία
✓ Αμφιλεγόμενες ή σημαντικές δηλώσεις
✓ Συγκεκριμένες προτάσεις δράσης

✗ ΜΗΝ βάζεις reference σε:
- Γενικές παρατηρήσεις χωρίς συγκεκριμένη πηγή
- Το γενικό πλαίσιο που παρέχεις εσύ

**Σύνταξη reference:**
Παράδειγμα: Υποστηρίζει ότι [η καθαριότητα έχει υποβαθμιστεί](REF:UTTERANCE:utt-001)
και προτείνει [πρόσληψη 15 εργαζομένων](REF:UTTERANCE:utt-002).

Το κείμενο μέσα στα [ ] πρέπει να είναι περιεκτικό και να δείχνει τι λέει το utterance/πηγή.

**Σημαντικό:**
- Το utteranceId στα REF:UTTERANCE: πρέπει να είναι ΑΚΡΙΒΩΣ το utteranceId από το input
- Μπορείς να χρησιμοποιήσεις REF:PERSON: και REF:PARTY: όταν αναφέρεσαι σε άτομα/παρατάξεις
`;

/**
 * System prompt for batch processing of transcripts.
 * Generates segment summaries, discussion ranges, and subject extraction.
 */
export function getBatchProcessingSystemPrompt(metadata: {
  cityName: string;
  date: string;
  topicLabels: string[];
  administrativeBodyName?: string;
  additionalInstructions?: string;
}): string {
  const bodyInfo = metadata.administrativeBodyName
    ? `\nΌργανο: ${metadata.administrativeBodyName}`
    : '';

  if (!metadata.administrativeBodyName) {
    console.warn('⚠️  WARNING: administrativeBodyName not provided in batch processing prompt. Using generic description.');
  }

  return `
ΣΤΟΧΟΣ: Μετατρέπεις συνεδριάσεις δημοτικών οργάνων σε δομημένα δεδομένα που επιτρέπουν
στους πολίτες να κατανοήσουν τι συζητήθηκε, ποιος μίλησε, και τι αποφασίστηκε. Βλέπεις ένα batch (κομμάτι) της συζήτησης κάθε φορά.

Πόλη: ${metadata.cityName}${bodyInfo}
Ημερομηνία: ${metadata.date}

ΕΞΟΔΟΣ JSON (3 πεδία):
1. segmentSummaries - Περίληψη κάθε τοποθέτησης (1-3 προτάσεις)
2. subjects - Λίστα θεμάτων (ημερήσια διάταξη + εκτός / προ ημερησίας διάταξης)
3. ranges - Διαχωρισμός της συζήτησης σε τμήματα από συνεχόμενα utterances που αφορούν το ίδιο πράγμα (ATTENDANCE, SUBJECT_DISCUSSION, VOTE, OTHER)

═══════════════════════════════════════════════════════════════════════════
ΜΕΡΟΣ 1: SEGMENT SUMMARIES
═══════════════════════════════════════════════════════════════════════════

Κάθε segment έχει: id, summary (1-3 προτάσεις), type, labels

TYPE:
- SUBSTANTIAL: Γνώμες, επιχειρήματα, πληροφορίες, ερωτήματα ουσίας
  Παράδειγμα: "Η καθαριότητα έχει υποβαθμιστεί", "Προτείνω αύξηση κονδυλίων"
- PROCEDURAL: Διαδικαστικές παρεμβάσεις, λήψεις παρουσιών κ.α.
  Παράδειγμα: "Το λόγο έχει ο κ. Παπαδόπουλος", "Παρόντες 24 σύμβουλοι"

SUMMARY:
- Όχι όνομα στην αρχή ("Ο Παπαδόπουλος λέει...")
- Γ' ενικό για ρήματα ("υποστηρίζει", "ανησυχεί")
- Κύρια σημεία, όχι λεπτομέρειες

LABELS:
Διάλεξε 0-3 από: ${metadata.topicLabels.join(", ")}
Μόνο αν το segment αναφέρεται στο θέμα.

═══════════════════════════════════════════════════════════════════════════
ΜΕΡΟΣ 2: SUBJECTS (ΘΕΜΑΤΑ)
═══════════════════════════════════════════════════════════════════════════

Τα subjects είναι τα επιμέρους θέματα που συζητούνται στη συνεδρίαση.

ΑΠΟΦΥΓΗ ΔΙΠΛΟΤΥΠΩΝ - ΚΡΙΣΙΜΟ:
- Τα παρόμοια θέματα ανήκουν στο ίδιο subject
- Θέμα Α + Θέμα Α' = ΕΝΑ subject (ενημέρωσε name/description)
- Αν αμφιβάλλεις, συγχώνευσε - μην δημιουργείς νέο

Διατήρηση υπαρχόντων subjects:
- Αν ενημερώνεις υπάρχον subject (ίδιο id): διατήρησε type, agendaItemIndex, introducedByPersonId
- Ενημέρωσε μόνο name και description αν χρειάζεται ώστε να παραμένουν περιγραφικά

ΠΕΔΙΑ SUBJECT:

type:
- IN_AGENDA: Θέμα από ημερήσια διάταξη (έχει agendaItemIndex αριθμό)
- BEFORE_AGENDA: Προ-ημερησίας διάταξη συζήτηση (ανακοινώσεις, ερωτήματα χωρίς ψηφοφορία)
- OUT_OF_AGENDA: Εκτός διάταξης θέματα προς ψήφιση που δεν ήταν στην αρχική διάταξη (συνήθως ονοματίζονται ως "προ ημερησίας" από τον πρόεδρο)

agendaItemIndex:
- Αριθμός (0, 1, 2...) για IN_AGENDA
- "BEFORE_AGENDA" για BEFORE_AGENDA type
- "OUT_OF_AGENDA" για OUT_OF_AGENDA type

name (2-8 λέξεις, απλή γλώσσα):
- ΜΗΝ χρησιμοποιείς άγνωστα ακρωνύμια (ΠΔΕ, ΚΥΑ, ΣΒΑΚ)
- Πολύ γνωστά ακρωνύμια είναι OK (π.χ. ΚΑΠΗ, ΟΤΑ)
- ΜΗΝ χρησιμοποιείς πολύ τεχνικούς/νομικούς όρους
- Παραδείγματα: "Αντιπλημμυρικά έργα", "Προϋπολογισμός 2024", "Άδεια οικοδομής Λ. Μεσογείων 45"

description (2-3 προτάσεις, markdown με λίγα references):

ΣΤΥΛ - "He said, they said" (αποδίδεις αυτά που λέγονται σε ομιλητές):
- Φυσική αφηγηματική ροή, όχι λίστες
- "Ο αντιδήμαρχος ανέφερε...", "Οι σύμβουλοι εξέφρασαν..."
- ΜΗΝ: "Καταγραφή:", "Στοιχεία:", "Αναφέρθηκαν:" -- προτιμούμε την απλή, φυσική κατανοητή ευανάγνωστη γλώσσα με ροή
- ΜΗΝ βάζεις reference σε κάθε πρόταση, αλλά μόνο όπου εκφράζονται σημαντικά σημεία και απόψεις.

ΔΟΜΗ:
1. Τι είναι το θέμα και το context (χωρίς reference)
2. Τι συζητήθηκε/τέθηκε (με reference μόνο για κύριο claim)
3. Αποτέλεσμα εγκρίθηκε/απορρίφθηκε (χωρίς reference)

Για πολύπλοκα θέματα μόνο, πρόσθεσε μια ενότητα "Κύρια ζητήματα" για τα ζητηματα του θέματος για τα οποία εκφράστηκαν διαφορετικές απόψεις.
Κύρια ζητήματα:
- Ζήτημα 1: σύντομη περιγραφή με τις διάφορες απόψεις επί του ζητήματος
- Ζήτημα 2: σύντομη περιγραφή με τις διάφορες απόψεις επί του ζητήματος
(μέχρι 4 ζητήματα)

REFERENCES - Πότε:
- Συγκεκριμένα νούμερα: [το κόστος είναι 300 χιλιάδες ευρώ](REF:UTTERANCE:xxx)
- Αμφιλεγόμενες δηλώσεις: [τα πορίσματα είναι εμπιστευτικά](REF:UTTERANCE:xxx)
- Κρίσιμες αποφάσεις: [εγκρίθηκε ομόφωνα με 18 υπέρ](REF:UTTERANCE:xxx)

ΜΗΝ:
- Γενικές περιγραφές ("το θέμα αφορά...")
- Προφανή πράγματα ("ο πρόεδρος εισηγήθηκε")
- Μετα-πληροφορίες ("το Συμβούλιο είναι διαδικαστικού χαρακτήρα")
- Διαδικαστικά άλλων θεμάτων ("η 8η αναμόρφωση εγκρίθηκε πριν")

Παραδείγματα καλών descriptions:

ΑΠΛΟ ΘΕΜΑ:
"Έγκριση προμήθειας υλικών για σχολικά κτίρια. Ο αρμόδιος εξήγησε ότι [η προμήθεια περιλαμβάνει εξοπλισμό για τρία δημοτικά σχολεία](REF:UTTERANCE:xxx) και το κόστος καλύπτεται από τον τακτικό προϋπολογισμό. Το θέμα εγκρίθηκε ομόφωνα."

ΜΕ ΑΡΙΘΜΟΥΣ:
"Αναβάθμιση δημοτικών παιδικών χαρών. Η αρμόδια παρουσίασε στοιχεία από καταγραφή ελλείψεων ([15 παιδικές χαρές χρειάζονται άμεση επισκευή, 8 απαιτούν πλήρη ανακατασκευή](REF:UTTERANCE:xxx)). Οι σύμβουλοι τόνισαν την ανάγκη άμεσης δράσης για την ασφάλεια των παιδιών."

ΠΟΛΥΠΛΟΚΟ:
"Ρύθμιση κυκλοφορίας στο ιστορικό κέντρο. Η συζήτηση επικεντρώθηκε σε ισορροπία μεταξύ προστασίας εμπορίου και βελτίωσης ποιότητας ζωής. Το θέμα εγκρίθηκε με αποχή της αντιπολίτευσης.

Κύρια ζητήματα:
- Ζητήθηκε μελέτη επίπτωσης στα τοπικά καταστήματα
- Ο αντιδήμαρχος απάντησε ότι [η μελέτη θα ολοκληρωθεί σε τρεις μήνες](REF:UTTERANCE:xxx)
- Τέθηκε ζήτημα διαβούλευσης με τους εμπόρους πριν την εφαρμογή"

${MARKDOWN_REFERENCE_FORMAT_INSTRUCTIONS}

locationText:
- Συμπλήρωσε ΜΟΝΟ αν υπάρχει συγκεκριμένη τοποθεσία
- Διεύθυνση: "Λεωφόρος Μεσογείων 45"
- Γειτονιά: "Εξάρχεια"
- Χώρος: "Πλατεία Συντάγματος"
- null αν αφορά όλο το δήμο (προϋπολογισμός)

introducedByPersonId:
- Το speakerId (compressed ID) του εισηγητή που παρουσιάζει το θέμα
- Συνήθως ο πρόεδρος ή ο αρμόδιος αντιδήμαρχος
- Αν ενημερώνεις υπάρχον subject, διατήρησε το introducedByPersonId
- null αν δεν είναι σαφές

topicLabel:
- Ένα από: ${metadata.topicLabels.join(", ")}, ή null

${IMPORTANCE_GUIDELINES}

═══════════════════════════════════════════════════════════════════════════
ΜΕΡΟΣ 3: DISCUSSION RANGES
═══════════════════════════════════════════════════════════════════════════

Τα ranges είναι συνεχείς ακολουθίες utterances με το ίδιο status.
Χωρίζουν την συζήτηση σε ενότητες, και συνδέουν κάποια utterances με subjects.
Ένα range μπορεί να έχει utterances και από διαφορετικούς ομιλητές -- εκφράζει απλά το
στάδιο / κατάσταση της συζήτησης. 

ΚΑΛΥΨΗ:
- Κάθε utterance ανήκει σε ακριβώς ένα range
- Χωρίς κενά, χωρίς επικαλύψεις

ΣΥΓΧΩΝΕΥΣΗ ΔΙΑΔΟΧΙΚΩΝ RANGES - ΚΡΙΣΙΜΟ:

Δύο διαδοχικά ranges συγχωνεύονται σε ένα αν:
- Έχουν το ίδιο status (π.χ. OTHER → OTHER)
- Έχουν το ίδιο status ΚΑΙ το ίδιο subjectId (π.χ. SUBJECT_DISCUSSION Θέμα Α → SUBJECT_DISCUSSION Θέμα Α)
- Σύντομες παρεμβάσεις (1-3 utterances) δεν σπάνε το range:
  SUBJECT_DISCUSSION (Θέμα Α) + OTHER ("Παρακαλώ τάξη") + SUBJECT_DISCUSSION (Θέμα Α) = ΕΝΑ range SUBJECT_DISCUSSION (Θέμα Α)

Νέο range μόνο όταν:
- Αλλάζει το θέμα (νέο subjectId)
- Αλλάζει το status σε διαφορετικό
- Εκτεταμένες διαδικαστικές παρεμβάσεις (>5 utterances)

STATUS ΤΥΠΟΙ:

ATTENDANCE:
- Λήψη παρουσιών
- subjectId: null

VOTE:
- Ψηφοφορία/καταμέτρηση ψήφων
- subjectId: το subject που ψηφίζεται

SUBJECT_DISCUSSION:
- Ολόκληρη η συζήτηση ενός θέματος
- subjectId: το subject που συζητείται
- Περιλαμβάνει: ανακοίνωση θέματος, εισήγηση, ερωτήσεις, τοποθετήσεις
- Περιλαμβάνει: σύντομες διαδικαστικές παρεμβάσεις (1-3 utterances) μέσα στη συζήτηση
- ΔΕΝ περιλαμβάνει: άνοιγμα συνεδρίασης, λήψη παρουσιών, χαιρετισμούς εκτός θέματος

OTHER:
- Διαδικαστικά που δεν αφορούν συγκεκριμένο θέμα
- subjectId: null

Το range κλείνει (end) όταν:
- Αλλάζει το θέμα
- Αρχίζει ψηφοφορία
- Εκτεταμένες διαδικαστικές παρεμβολές (>5 utterances)

ΠΕΔΙΑ RANGE:

id:
- Μοναδικό UUID για νέα ranges
- Το ίδιο id αν συνεχίζεις ανοιχτό range από προηγούμενο batch

start:
- utteranceId όπου αρχίζει το range
- null αν το range συνεχίζει από προηγούμενο batch

end:
- utteranceId όπου τελειώνει το range
- null αν το range συνεχίζεται στο επόμενο batch
- Το πολύ ΕΝΑ range με end = null

rangeSummary (ΥΠΟΧΡΕΩΤΙΚΟ):
- 1 πρόταση: τι ΠΡΑΓΜΑΤΙΚΑ συζητείται
- Παραδείγματα: "Συζήτηση για χρηματοδότηση κέντρων υγείας", "Λήψη παρουσιών", "Ψηφοφορία επί προϋπολογισμού"
- ΚΡΙΣΙΜΟ: το rangeSummary πρέπει να ταιριάζει με το subjectId
- Αν το summary μιλάει για Θέμα Χ αλλά το subjectId είναι Θέμα Ψ, κάτι είναι λάθος

subjectId:
- Για SUBJECT_DISCUSSION και VOTE: το id του subject από τη λίστα subjects (ΜΕΡΟΣ 2)
- Για ATTENDANCE και OTHER: null
- ΚΡΙΣΙΜΟ: ΟΛΕΣ οι utterances του range μιλούν για αυτό το subject
- Αν το range "ξεχειλίζει" σε άλλο θέμα, το range πρέπει να μικρύνει

Συνέχεια από προηγούμενο batch:
- Αν υπάρχει ανοιχτό range (end = null) που συνεχίζεται: χρησιμοποίησε το ίδιο range id, start = null
- Αν άλλαξε το θέμα: κλείσε το παλιό range (end = τελευταίο utterance παλιού θέματος), άνοιξε νέο

═══════════════════════════════════════════════════════════════════════════
ΣΗΜΑΝΤΙΚΕΣ ΣΗΜΕΙΩΣΕΙ΅
═══════════════════════════════════════════════════════════════════════════

Βεβαιώσου ότι:
- Δεν υπάρχουν διπλότυπα ή πολύ παρόμοια subjects (παρόμοια θέματα με διαφορετικά IDs)
- Δεν υπάρχουν διαδοχικά ranges με το ίδιο status ή το ίδιο (status, subjectId), γιατί θα έπρεπε να είναι ενωμένα
- Κάθε utterance ανήκει σε ένα μόνο range (χωρίς επικαλύψεις)
- Το rangeSummary ταιριάζει με το subjectId
- SUBJECT_DISCUSSION ξεκινάει από την ανακοίνωση του θέματος, όχι από παρουσίες/άνοιγμα συνεδρίασης
- Αν υπάρχει ανοιχτό range από προηγούμενο batch: το πρώτο range έχει start = null και το ίδιο range id
- Αν ΔΕΝ υπάρχει ανοιχτό range: το πρώτο range έχει start = utteranceId (όχι null)

${metadata.additionalInstructions || ''}

ΣΗΜΑΝΤΙΚΟ: Απάντησε ΜΟΝΟ με JSON, χωρίς επεξηγήσεις ή σχόλια.
`;
}

/**
 * System prompt for generating speaker contributions for a specific subject.
 */
export function getSpeakerContributionsSystemPrompt(administrativeBodyName?: string): string {
  const bodyInfo = administrativeBodyName
    ? ` Το όργανο είναι: ${administrativeBodyName}.`
    : '';

  if (!administrativeBodyName) {
    console.warn('⚠️  WARNING: administrativeBodyName not provided in speaker contributions prompt. Using generic description.');
  }

  return `
Δημιουργείς περιεκτικές περιλήψεις τοποθετήσεων συμβούλων σε συλλογικά αποφασιστικά όργανα (π.χ. δημοτικά συμβούλια, δημοτικές επιτροπές, δημοτικές κοινότητες).${bodyInfo}

═══════════════════════════════════════════════════════════════════════════
ΣΤΟΧΟΣ
═══════════════════════════════════════════════════════════════════════════

Για ΟΛΟΥΣ τους ομιλητές σε αυτό το θέμα, δημιούργησε contributions σε JSON format.
Κάθε contribution είναι μια σύντομη περίληψη (3-5 προτάσεις) της θέσης του συμβούλου επί του θέματος,
σε μορφή **Markdown με ειδικά reference links**.

**ΚΡΙΣΙΜΟ - ΕΝΑ CONTRIBUTION ΑΝΑ ΟΜΙΛΗΤΗ:**
Κάθε ομιλητής (speakerId) πρέπει να εμφανίζεται ΑΚΡΙΒΩΣ ΜΙΑ ΦΟΡΑ στο speakerContributions array.
Αν ένας ομιλητής έχει πολλαπλές τοποθετήσεις ή μιλάει για διάφορα σημεία,
ΣΥΝΔΥΑΣΕ όλα τα επιχειρήματά του σε ΕΝΑ συνεκτικό contribution.
ΜΗΝ δημιουργήσεις πολλαπλά contributions για τον ίδιο speakerId.

**ΣΗΜΑΝΤΙΚΟ - ΠΛΗΡΗΣ ΠΛΑΙΣΙΟ:**
Σου δίνεται:
1. Τα utterances ΚΑΘΕ συμβούλου (οργανωμένα ανά speakerId)
2. ΟΛΑ τα utterances της συζήτησης για το θέμα (από ΟΛΟΥΣ τους ομιλητές) - για πλαίσιο

Χρησιμοποίησε το πλήρες πλαίσιο για να καταλάβεις:
- Σε ποιον/ποια απαντά ο κάθε σύμβουλος
- Ποιές προτάσεις άλλων υποστηρίζει ή αμφισβητεί
- Πώς εντάσσεται η θέση του στη συνολική συζήτηση

ΠΡΟΣΟΧΗ: Κάθε ομιλητής πρέπει να έχει references ΜΟΝΟ στα δικά του utterances.
ΜΗΝ βάλεις references σε utterances άλλων ομιλητών.
Μπορείς όμως να αναφέρεις περιγραφικά τι είπαν άλλοι (π.χ. "Απαντώντας στις ανησυχίες για το κόστος...")

${MARKDOWN_REFERENCE_FORMAT_INSTRUCTIONS}

**Πόσα references:**
- Τουλάχιστον 2-3 utterance references ανά ομιλητή
- Μέχρι 6-8 για μεγαλύτερες τοποθετήσεις
- ΕΝΑ reference ανά κύριο επιχείρημα
- ΜΟΝΟ references στα utterances του συγκεκριμένου ομιλητή

═══════════════════════════════════════════════════════════════════════════
ΟΔΗΓΙΕΣ ΠΕΡΙΛΗΨΗΣ
═══════════════════════════════════════════════════════════════════════════

**ΤΙ ΝΑ ΠΑΡΑΛΕΙΨΕΙΣ - ΠΟΛΥ ΣΗΜΑΝΤΙΚΟ:**

**ΜΗΝ περιλαμβάνεις contribution για ομιλητές που:**
- Διευθύνουν τη συζήτηση ως Πρόεδρος (δίνουν το λόγο, ζητούν ησυχία, κλείνουν συνεδρίαση)
- Κάνουν ΜΟΝΟ διαδικαστικά (ανακοινώνουν διάλειμμα, αλλάζουν θέματα)
- Εισάγουν το θέμα χωρίς να πάρουν θέση
- Απλά διαβάζουν την εισήγηση χωρίς σχολιασμό

**Παραδείγματα ΠΡΟΣ ΠΑΡΑΛΕΙΨΗ:**
- "Διευθύνει τη συζήτηση ως Πρόεδρος, δίνοντας τον λόγο στους ομιλητές"
- "Ανακοινώνει πεντάλεπτο διάλειμμα"
- "Εισάγει το θέμα χωρίς τοποθέτηση"
- "Καλεί τους συμβούλους να ψηφίσουν"

**ΤΙ ΝΑ ΠΕΡΙΛΑΜΒΑΝΕΙΣ - Μόνο ουσιαστικές τοποθετήσεις:**
- Θέση του ομιλητή (υπέρ, κατά, επιφυλακτικός)
- Σε τι απαντά ή τι υποστηρίζει
- Κύρια επιχειρήματα
- Συγκεκριμένες προτάσεις ή ανησυχίες
- Τελική θέση

**Ύφος - ΚΡΙΣΙΜΟ:**
- ΜΗΝ χρησιμοποιείς μετα-περιγραφές: "Εισάγει το θέμα", "Παρουσιάζει", "Δηλώνει ότι", "Εξηγεί"
- Γράψε ΑΠΕΥΘΕΙΑΣ τη θέση και τα επιχειρήματα
- ΜΗΝ σχολιάζεις τη φύση της τοποθέτησης: "είναι τυπική", "περιορίζεται στην ανακοίνωση", "χωρίς περαιτέρω σχολιασμό"

**Σύγκριση:**
ΚΑΚΟ: "Εισάγει το θέμα της συγκρότησης επιτροπής, ανακοινώνοντας το ως τρίτο θέμα της ημερήσιας διάταξης. Η εισαγωγή είναι τυπική χωρίς τοποθέτηση."
ΚΑΛΟ: [Παράλειψε τον ομιλητή - δεν έχει ουσιαστική τοποθέτηση]

ΚΑΚΟ: "Δηλώνει ότι δεν έχει αντίρρηση να ψηφίσει θετικά..."
ΚΑΛΟ: "Δεν έχει αντίρρηση να ψηφίσει θετικά..."

ΚΑΚΟ: "Παρουσιάζει αναλυτικά τα στοιχεία, επισημαίνοντας ότι..."
ΚΑΛΟ: "Το πρακτικό αφορά την απόφαση 129/2023..."

ΚΑΚΟ: "Υποστηρίζει ότι η καθαριότητα έχει υποβαθμιστεί..."
ΚΑΛΟ: "Η καθαριότητα έχει υποβαθμιστεί..."

ΚΑΚΟ: "Εξηγεί ότι το κόστος θα είναι 300 χιλιάδες..."
ΚΑΛΟ: "Το κόστος θα είναι 300 χιλιάδες..."

- ΜΟΝΟ όταν χρειάζεται σύνδεση προτάσεων χρησιμοποίησε: "προτείνει", "ανησυχεί", "απαντά", "τονίζει", "διευκρινίζει"
- ΟΧΙ: "Υποστηρίζει ότι", "Εξηγεί ότι", "Επισημαίνει ότι", "Δηλώνει ότι"
- Χρησιμοποίησε τις ίδιες λέξεις του ομιλητή όπου είναι δυνατόν

**Μήκος:**
- 3-5 προτάσεις (περίπου 60-120 λέξεις)
- Περιεκτική αλλά όχι λεπτομερής
- Εστίαση στο "τι λέει" όχι "πως το λέει"

═══════════════════════════════════════════════════════════════════════════
ΜΟΡΦΗ ΑΠΟΚΡΙΣΗΣ
═══════════════════════════════════════════════════════════════════════════

Για κάθε ομιλητή, δημιούργησε ένα contribution με:
- speakerId: το ID του ομιλητή
- text: markdown κείμενο της περίληψης με references

**ΣΗΜΑΝΤΙΚΟ - Ποιους ομιλητές να περιλάβεις:**
- Περίλαβε contribution για ΚΑΘΕ ομιλητή με **ΟΥΣΙΑΣΤΙΚΗ** τοποθέτηση
- Ακόμα και αν η συμμετοχή είναι σύντομη, περίγραψε τι είπε
- **ΠΑΡΑΛΕΙΨΕ:**
  * Ομιλητές χωρίς κανένα utterance στη λίστα
  * Πρόεδρος που διευθύνει μόνο τη συζήτηση (δίνει λόγο, ζητά ησυχία)
  * Ομιλητές με ΜΟΝΟ διαδικαστικά (ανακοινώσεις διαλειμμάτων, εισαγωγή χωρίς θέση)
- **ΑΝ ο Πρόεδρος έχει και διαδικαστικά ΚΑΙ ουσιαστική τοποθέτηση:**
  * Περίλαβε ΜΟΝΟ την ουσιαστική τοποθέτηση
  * Αγνόησε τα διαδικαστικά μέρη
`;
}
